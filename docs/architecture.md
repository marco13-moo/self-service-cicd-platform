# Architecture Overview

## Problem Statement

Modern teams require flexible CI/CD pipelines and ephemeral environments without
central platform teams becoming bottlenecks.

Existing CI/CD solutions often conflate:
- Control logic
- Execution engines
- Repository-specific configuration

This project separates those concerns explicitly.

## High-Level Architecture

The system is composed of:

1. **Control Plane**
   - API-driven
   - Owns repository onboarding, pipeline generation, and lifecycle orchestration
   - Enforces policy and validation

2. **Execution Plane**
   - Stateless workflow engines (e.g. Argo Workflows)
   - Executes pipelines generated by the control plane

3. **Infrastructure Layer**
   - Terraform-managed ephemeral environments
   - Explicit lifecycle and teardown semantics

## Control Plane Responsibilities

- Repository registration
- Pipeline template selection
- Workflow generation
- Trigger orchestration
- Environment lifecycle coordination

## Execution Plane Responsibilities

- Build, test, and deploy steps
- Log aggregation
- Artifact generation

## Trust Boundaries

- Control plane does not execute untrusted code
- Execution plane does not make policy decisions
- Infrastructure changes are explicitly requested and audited

## Non-Goals

- Hidden “magic” pipeline generation
- Direct execution inside the control plane
- Monolithic CI/CD platforms
